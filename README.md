# üö´ Domain List: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞ –≤ –†–§

–≠—Ç–æ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤, –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã—Ö –≤ –†–§. –û–Ω –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Ä–∞–±–æ—Ç–µ –ø—Ä–æ–µ–∫—Ç–∞ [Re-filter-lists](https://github.com/1andrevich/Re-filter-lists/tree/main) –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–º —Å–ø–∏—Å–∫–∞–º–∏ –¥–æ–º–µ–Ω–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ª–∏–±–æ –Ω–µ –ø–æ–ø–∞–ª–∏ –≤ –¥—Ä—É–≥–∏–µ —Å–ø–∏—Å–∫–∏, –ª–∏–±–æ –±—ã–ª–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –†–§, –Ω–æ –Ω–µ –≤–Ω–µ—Å–µ–Ω—ã –≤ —Ä–µ–µ—Å—Ç—Ä –†–ö–ù, –∞ —Ç–∞–∫–∂–µ –¥–∞–Ω–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω–∑—É—Ä—ã **OONI**.

‚úÖ **–û–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑ –≤ –Ω–µ–¥–µ–ª—é** —á–µ—Ä–µ–∑ GitHub Actions.

## üìö –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö

1. **Re-filter-lists**: –û—Å–Ω–æ–≤–Ω–æ–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –±–µ—Ä–µ—Ç—Å—è –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è [Re-filter-lists](https://github.com/1andrevich/Re-filter-lists/tree/main). –ü–æ–¥—Ä–æ–±–Ω–µ–µ –≤ —Å—Ç–∞—Ç—å–µ –Ω–∞ –•–∞–±—Ä–µ: [–°–æ–∑–¥–∞–µ–º —Å–≤–æ–π —Å–ø–∏—Å–æ–∫ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ —Å–∞–π—Ç–æ–≤ (DNS)](https://habr.com/ru/articles/850292/).
2. **OONI (Open Observatory of Network Interference)**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–Ω—ã—Ö –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ –≤ –†–§ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 7 –¥–Ω–µ–π —á–µ—Ä–µ–∑ API OONI.
3. **–õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏ (`src/`)**:

- **`src/blocked_domains.lst`**: –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è (–ø–æ–∫–∞ –µ—â–µ –¥—É–º–∞—é –∫–∞–∫) –≤—Ä—É—á–Ω—É—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –ª–∏—á–Ω—ã—Ö –Ω–∞–±–ª—é–¥–µ–Ω–∏–π, —Å–æ–æ–±—â–µ–Ω–∏–π –¥—Ä—É–≥–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤. –û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–º–µ–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –†–ö–ù. 
–ò—Å—Ç–æ—á–Ω–∏–∫–∏:  
https://docs.usergate.com/spiski-url_143.html  
https://antifilter.download/  
https://antifilter.network/  
https://community.antifilter.download/  
https://reestr.rublacklist.net/ru/?status=1&gov=all&date_start=&date_end=  

- **`src/restrict_domains.lst`**: –≠—Ç–æ—Ç —Å–ø–∏—Å–æ–∫ –≤–∫–ª—é—á–∞–µ—Ç –¥–æ–º–µ–Ω—ã, –≤–ª–∞–¥–µ–ª—å—Ü—ã –∫–æ—Ç–æ—Ä—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–∏–ª–∏ –¥–æ—Å—Ç—É–ø —Å —Ä–æ—Å—Å–∏–π—Å–∫–∏—Ö IP-–∞–¥—Ä–µ—Å–æ–≤ ¬´–≥–µ–æ–±–ª–æ–∫–æ–º¬ª. –≠—Ç–∏ –¥–æ–º–µ–Ω—ã –Ω–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω—ã –†–ö–ù(–Ω–µ –≤—Å–µ, –µ—Å—Ç—å —É–∂–µ –∫–æ—Ç–æ—Ä—ã–µ –∏ –±–ª–æ—á–∏—Ç –†–ö–ù).
–ò—Å—Ç–æ—á–Ω–∏–∫–∏:  
https://github.com/123jjck/russia-proxy-hosts/blob/main/hosts.txt  
https://github.com/itdoginfo/allow-domains/blob/main/Categories/geoblock.lst  
https://github.com/dartraiden/no-russia-hosts/blob/master/hosts.txt  
https://github.com/censortracker/ctconf/blob/main/reverse-restrictions/ru/sites.json  

x-ray  
https://github.com/unidcml/domain-list-community  
https://github.com/v2fly/domain-list-community  
https://github.com/Nidelon/ru-block-v2ray-rules  

## üì• –°–∫–∞—á–∞—Ç—å

–ê–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –≤—Å–µ–≥–¥–∞ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –≤–µ—Ç–∫–µ `release` (–ø—Ä—è–º—ã–µ —Å—Å—ã–ª–∫–∏) –∏–ª–∏ –≤ —Ä–∞–∑–¥–µ–ª–µ **Releases**.



- **`all_domains.lst`**
–í–µ—Å—å —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ (—Ç–µ–∫—Å—Ç)

  üîó https://github.com/mi1su/domain_list/releases/latest/download/all_domains.lst  
  ‚öôÔ∏è https://raw.githubusercontent.com/mi1su/domain_list/release/all_domains

- **`dnsmasq_domains.lst`**
–§–æ—Ä–º–∞—Ç nftset –¥–ª—è dnsmasq

  üîó https://github.com/mi1su/domain_list/releases/latest/download/dnsmasq_domains.lst  
  ‚öôÔ∏è https://raw.githubusercontent.com/mi1su/domain_list/release/dnsmasq_domains.lst

- **`geosite.dat`**
–ë–∏–Ω–∞—Ä–Ω—ã–π —Ñ–∞–π–ª –¥–ª—è Xray/V2Ray

  üîó https://github.com/mi1su/domain_list/releases/latest/download/geosite.dat   
  ‚öôÔ∏è https://raw.githubusercontent.com/mi1su/domain_list/release/geosite.dat


## ‚öôÔ∏è –°–∫—Ä–∏–ø—Ç—ã

### `domains.py`

–°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å–ø–∏—Å–∫–æ–≤ –¥–æ–º–µ–Ω–æ–≤. –û–Ω –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å—Ä–µ–¥—Å—Ç–≤–æ–º GitHub Actions (–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ `.github/workflows/create-lists.yml`).

**–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞:**

1.  **–ó–∞–≥—Ä—É–∑–∫–∞ (download_domains):** –ó–∞–≥—Ä—É–∂–∞–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è Re-filter-lists –ø–æ —É–∫–∞–∑–∞–Ω–Ω–æ–º—É URL. –§—É–Ω–∫—Ü–∏—è `download_domains(url)` —Ä–µ–∞–ª–∏–∑—É–µ—Ç —ç—Ç—É –æ–ø–µ—Ä–∞—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—è —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤. –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è, —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.
2. **–ß—Ç–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ (read_local_domains):** –ß–∏—Ç–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª–∞. –§—É–Ω–∫—Ü–∏—è `read_local_domains(file_path)` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤, –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –∏–∑ —Ñ–∞–π–ª–∞. –í —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è —Ñ–∞–π–ª–∞ –∏–ª–∏ –æ—à–∏–±–∫–∏ —á—Ç–µ–Ω–∏—è, —Å–∫—Ä–∏–ø—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.
3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤ (filter_subdomains):** –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ–¥–¥–æ–º–µ–Ω—ã –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è (TLD) –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –≥—Ä—É–ø–ø—ã –ø–æ—Ö–æ–∂–∏—Ö –¥–æ–º–µ–Ω–æ–≤. –§—É–Ω–∫—Ü–∏—è `filter_subdomains(domains)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫.

4. **–û—á–∏—Å—Ç–∫–∞ –¥–æ–º–µ–Ω–æ–≤ (clear_domain):** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç "–∑–µ—Ä–∫–∞–ª–∞" –¥–æ–º–µ–Ω–æ–≤, –æ—Å—Ç–∞–≤–ª—è—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –∏–∑ –ø–æ—Ö–æ–∂–∏—Ö. –§—É–Ω–∫—Ü–∏—è `clear_domain(domains)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã.

5. **–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤ (merge_lists):** –û–±—ä–µ–¥–∏–Ω—è–µ—Ç —É–¥–∞–ª–µ–Ω–Ω—ã–π –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤ –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã. –§—É–Ω–∫—Ü–∏—è `merge_lists(remote_domains, local_domains)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–ø–∏—Å–∫–æ–≤ –¥–æ–º–µ–Ω–æ–≤ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π –∏ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫.

6. **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ (save_merged_list):** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –≤ —Ñ–∞–π–ª. –§—É–Ω–∫—Ü–∏—è `save_merged_list(merged_domains, output_file)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏ –ø—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É.

7. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è dnsmasq-nfset –≤ —Ñ–æ—Ä–º–∞—Ç–µ nftset (save_nftset_list):** –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ nftset –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `nftables`. –§—É–Ω–∫—Ü–∏—è `save_nftset_list(merged_domains, nfset_file)` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–º–µ–Ω–æ–≤ –∏ –ø—É—Ç—å –∫ –≤—ã—Ö–æ–¥–Ω–æ–º—É —Ñ–∞–π–ª—É. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –≤ –≤—ã—Ö–æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ –∏–º–µ–µ—Ç —Ñ–æ—Ä–º–∞—Ç `nftset=/{domain}/4#inet#fw4#vpn_domains\n`, —á—Ç–æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø—Ä–∞–≤–∏–ª—É nftset –¥–ª—è IPv4.

8. **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è (main):** –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —à–∞–≥–æ–≤, –∑–∞–≥—Ä—É–∂–∞—è, —á–∏—Ç–∞—è, —Ñ–∏–ª—å—Ç—Ä—É—è, –æ–±—ä–µ–¥–∏–Ω—è—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—è —Å–ø–∏—Å–∫–∏ –¥–æ–º–µ–Ω–æ–≤. –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –Ω–∞ –ª—é–±–æ–º —ç—Ç–∞–ø–µ, —Å–∫—Ä–∏–ø—Ç –≤—ã–≤–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ.

–õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å–∫—Ä–∏–ø—Ç–∞ domain.py

### –ê–ª–≥–æ—Ä–∏—Ç–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–æ–º–µ–Ω–æ–≤
1. **–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è**  
   –í—Å–µ –¥–æ–º–µ–Ω—ã –ø—Ä–∏–≤–æ–¥—è—Ç—Å—è –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É –∏ –æ—á–∏—â–∞—é—Ç—Å—è –æ—Ç `www.`:
   ```python
   "WWW.Google.com" ‚Üí "google.com"
   ```

2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è TLD**  
   –£–¥–∞–ª—è—é—Ç—Å—è –¥–æ–º–µ–Ω—ã –≤–µ—Ä—Ö–Ω–µ–≥–æ —É—Ä–æ–≤–Ω—è (`.com`, `.net`):
   ```python
   ".ru" ‚Üí —É–¥–∞–ª—è–µ—Ç—Å—è
   ```

3. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤**  
   –î–ª—è –∫–∞–∂–¥–æ–≥–æ –¥–æ–º–µ–Ω–∞ 3-4 —É—Ä–æ–≤–Ω—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –¥–æ–º–µ–Ω:
   ```python
   "mail.google.com" ‚Üí "google.com"
   ```

4. **–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–µ—Ä–∫–∞–ª**  
   –î–ª—è –¥–æ–º–µ–Ω–æ–≤ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –±–∞–∑–æ–≤—ã–º –∏–º–µ–Ω–µ–º —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –ø–µ—Ä–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç:
   ```python
   ["google.ru", "google.com"] ‚Üí "google.com"
   ```

5. **–°–ª–∏—è–Ω–∏–µ —Å–ø–∏—Å–∫–æ–≤**  
   –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ 3 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å –¥–µ–¥—É–±–ª–∏–∫–∞—Ü–∏–µ–π:
   ```python
   remote_domains (Re-filter-lists) + 
   blocked_domains (–†–ö–ù) + 
   restrict_domains (–≥–µ–æ–±–ª–æ–∫) ‚Üí 
   merged_domains
   ```

### –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ—Ü–µ—Å—Å–∞
```mermaid
graph TD
    A[Re-filter-lists] --> E[–°–ª–∏—è–Ω–∏–µ]
    B[OONI API] --> E
    C[blocked_domains.lst] --> E
    D[restrict_domains.lst] --> E
    E --> F[–ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è & Punycode]
    F --> G[–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–¥–¥–æ–º–µ–Ω–æ–≤]
    G --> H[–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ /domains]
    H --> I[–°–±–æ—Ä–∫–∞ geosite.dat]

```

### `domain_cleaner.py`

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –ª–∏—á–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–æ–º–µ–Ω–æ–≤ (`src/domains.lst`). –û–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç:

*   –£–¥–∞–ª—è—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã.
*   –£–¥–∞–ª—è—Ç—å –¥–æ–º–µ–Ω—ã `.ua`.
*   –£–¥–∞–ª—è—Ç—å –∑–∞–ø–∏—Å–∏ `www.`.
*   –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –∑–µ—Ä–∫–∞–ª–∞ –∏ –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–º–µ–Ω.

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –¥–ª—è —Ä—É—á–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–∏—á–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ –¥–æ–º–µ–Ω–æ–≤. –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ –≤ README.md –ø–æ—Å–ª–µ –µ–≥–æ –Ω–∞–ø–∏—Å–∞–Ω–∏—è(–∫–æ–≥–¥–∞ –Ω–∏–±—É–¥—å).

## üõ† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
### OpenWrt (dnsmasq + nftables)

–§–∞–π–ª `dnsmasq_domains.lst` –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ OpenWrt, —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–æ–º–µ–Ω–æ–≤ —Å –ø–æ–º–æ—â—å—é `dnsmasq` –∏ `nftset`. 
–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ OpenWrt —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —ç—Ç–∏—Ö —Ñ–∞–π–ª–æ–≤ –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–∑–∂–µ. –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ IPv4, –Ω–æ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è IPv6 (—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∞—è —Å—Ç—Ä–æ–∫–∞ –∑–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∞ –≤ —Å–∫—Ä–∏–ø—Ç–µ `domains.py`).

```sh
# –ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª–∞ –≤ dnsmasq.conf
nftset=/youtube.com/4#inet#fw4#vpn_domains
```

–î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –≤ `dnsmasq.conf` —á–µ—Ä–µ–∑ `conf-file=`.

### –î–ª—è XRay/V2Ray (geosite.dat)
**–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è xray**:
```json
{
  "routing": {
    "domainStrategy": "IPIfNonMatch",
    "rules": [
      {
        "type": "field",
        "domain": ["ext:geosite.dat:domains-list"],
        "outboundTag": "proxy"
      }
    ]
  }
}
```

–∫–∞–∫ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å xray –∏ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∂–µ –±—É–¥–µ—Ç –ø–æ–∑–∂–µ –∫–æ–≥–¥–∞ –Ω–∏–±—É–¥—å :) 

**geosite.dat**:
## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ geosite.dat

### –ú–µ—Ç–æ–¥ 1: –ü–æ–∏—Å–∫ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å—Ç—Ä–æ–∫
```bash
strings geosite.dat
```
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –≤—ã–≤–µ–¥–µ—Ç –≤—Å–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–∂–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç, –∏–∑ —Ñ–∞–π–ª–∞ geosite.dat. –¥–ª—è –ø–æ–∏—Å–∫–∞ —á–∏—Ç–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –±–∏–Ω–∞—Ä–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö.

```bash
strings geosite.dat | grep -i "example.com"
```
```sh
strings geosite.dat | head -n 20
```
–ø–æ—Å–º–æ—Ç—Ä–∏–º –ø–µ—Ä–≤—ã–µ 20 —Å—Ç—Ä–æ—á–µ–∫

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**

```text
DOMAINS-LIST
facebook.com
twitter.com
youtube.com
```

### –ú–µ—Ç–æ–¥ 2: –®–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä
```sh
xxd geosite.dat
```
–í—ã –ø–æ–ª—É—á–∏—Ç–µ –≤—ã–≤–æ–¥ —Å –¥–≤—É–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏: –≤ –æ–¥–Ω–æ–π –±—É–¥–µ—Ç –∞–¥—Ä–µ—Å, –∞ –≤ –¥—Ä—É–≥–æ–π ‚Äî –¥–∞–Ω–Ω—ã–µ –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–º –≤–∏–¥–µ –∏ ASCII-—ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç—ã.
```bash
xxd geosite.dat | head -n 20
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
00000000: 6765 6f73 6974 652e 6461 7400 0000 0000  geosite.dat.....
00000010: 0100 0000 0000 0000 0000 0000 0000 0000  ................
```

---

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –±—É–¥—É—Ç –¥–æ–ø–æ–ª–Ω—è—Ç—å—Å—è.  
> –î–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –∏–ª–∏ Pull Requests.

## ‚≠ê –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–í—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –ø—Ä–æ–µ–∫—Ç, –ø–æ—Å—Ç–∞–≤–∏–≤ :star: —ç—Ç–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—é (—Å–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã)

<a href="https://star-history.com/#mi1su/domain_list&Date">
 <picture>
   <source media="(prefers-color-scheme: dark)" srcset="https://api.star-history.com/svg?repos=mi1su/domain_list&type=Date&theme=dark" />
   <source media="(prefers-color-scheme: light)" srcset="https://api.star-history.com/svg?repos=mi1su/domain_list&type=Date" />
   <img alt="Star History Chart" src="https://api.star-history.com/svg?repos=mi1su/domain_list&type=Date" />
 </picture>
</a>
